<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="C:\Users\王勇彪\Desktop\HouseAPI\WebHouseMVC\WebHouseMVC\wwwroot\Scripts\jquery-3.3.1.js"></script>
    <style>
        #box {
            width: 1000px;
            height: 600px;
            margin: 200px auto;
        }

            #box .qrcode {
                width: 400px;
                height: 400px;
                float: left;
                margin: 40px 40px;
            }

            #box .introduce {
                width: 500px;
                height: 600px;
                float: left;
            }

        .introduce p {
            width: 200px;
            height: 40px;
            background: #333;
            float: left;
            margin: 10px 20px;
            color: #fff;
            border-radius: 5px;
            overflow: hidden;
        }

            .introduce p span {
                float: left;
                width: 50px;
                height: 40px;
                color: #fff;
                text-align: center;
                line-height: 40px;
            }

            .introduce p input {
                width: 150px;
                height: 40px;
                float: left;
                border: 0;
                color: #fff;
                background: #000;
                text-indent: 10px;
                outline: none;
            }

        .introduce .btn {
            width: 440px;
            height: 40px;
            text-align: center;
            line-height: 40px;
            background: #6c0;
        }

        .qrcode > img {
            display: block;
            border: 5px solid white;
        }

        dl {
            padding: 0;
            padding: 10vw;
        }

        a {
            text-decoration: none
        }

        .black_overlay {
            display: none;
            position: absolute;
            top: 0%;
            left: 0%;
            width: 100%;
            height: 100%;
            background-color: black;
            z-index: 1001;
            /*-moz-opacity: 0.8;*/
            opacity: .80;
            filter: alpha(opacity=88);
        }

        .white_content {
            display: none;
            position: absolute;
            top: 25%;
            left: 35%;
            width: 35%;
            height: 35%;
            padding: 20px;
            border: 10px solid orange;
            background-color: white;
            z-index: 1002;
            overflow: auto;
        }
    </style>
</head>
<body>
    <div id="tb" class="">
    </div>
    <div id="light" class="white_content">
        <a href="javascript:void(0)" onclick="document.getElementById('light').style.display='none';document.getElementById('fade').style.display='block'">点这里关闭本窗口</a>
        <ol>
            <li>
                <img src="C:\Users\王勇彪\Desktop\HouseAPI\WebHouseMVC\WebHouseMVC\images\电话.png" style="width:50px;height:50px;"/>
            </li>
            <li>
                <img src="C:\Users\王勇彪\Desktop\HouseAPI\WebHouseMVC\WebHouseMVC\images\QQ.png" style="width:50px;height:50px;"/>
            </li>
            <li>
                <img src="C:\Users\王勇彪\Desktop\HouseAPI\WebHouseMVC\WebHouseMVC\images\微信.png" style="width:50px;height:50px;"/>
            </li>
            <li>
                <img src="C:\Users\王勇彪\Desktop\HouseAPI\WebHouseMVC\WebHouseMVC\images\联系人.png" style="width:50px;height:50px;"/>
            </li>
        </ol>
    </div>
</body>
</html>
<script>
    $(function () {
        show();
    })

    function show() {
        $.ajax({
            url: 'https://localhost:44335/api/Principal/GetPrincipals',
            type: 'get',
            dataType: 'json',
            success: function (d) {
                $(d).each(function () {
                    var str = '<div style="width:800px; float:left; height:110px;">'
                        + '<div style="float:left;width:500px ">'
                        + '<img src="' + this.prImage + '" alt="" width="140" height="160" style="float:left;margin:12px" />'
                        + '<p>' + this.principalName + '</p><br>'
                        + '<p>' + this.commodityName + '</p>'
                        + '<p>' + this.enter + '</p>'
                        + '</div >'
                        + '<div style = "float:right;line-height:58px;" >'
                        + '<button id="alert" onclick=" showType(' + this.id + ')">联系方式</button>'
                        + '</div >'
                        + '</div >';
                    //var str = '<tr>'
                    //    + '<th>' + this.id	 + '</th>'
                    //    + '<th>' + this.principalName + '</th>'
                    //    + '<th>' + this.principalPhone + '</th>'
                    //    + '<th>' + this.enter + '</th>'
                    //    + '<th>' + this.prImage	+ '</th>'
                    //    + '<th>' + this.email   + '</th>'
                    //    + '<th>' + this.qq    + '</th>'
                    //    + '<th>' + this.weChat  + '</th>'
                    //    + '<th>' + this.sex + '</th>'
                    //    + '<th>' + this.age + '</th>'
                    //    + '<th>' + this.commodityName + '</th>';
                    //+ '</tr>';
                    $("#tb").append(str);
                })
            }
        })
    }

    function showType(id) {
        document.getElementById('light').style.display = 'block';
    }
    function txLu() {
        var name, company, title, address, mobile, email, web, desc;
        $(".btn").click(function () {
            name = "FN:" + $("#name").val() + "\n";
            company = "ORG:" + $("#company").val() + "\n";
            title = "TITLE:" + $("#title").val() + "\n";
            address = "WORK:" + $("#address").val() + "\n";
            mobile = "TEL:" + $("#mobile").val() + "\n";
            email = "EMAIL:" + $("#email").val() + "\n";
            web = "URL:" + $("#web").val() + "\n";
            desc = "NOTE:" + $("#desc").val() + "\n";

            var info = "BEGIN:VCARD\n" + name + company + title + address + mobile + email + web + desc + "END:VCARD";
            //console.log(info);
            //生成二维码
            var qrcode = new QRCode("qrcode");
            qrcode.makeCode(info);

        })
    }
</script>
